/*!
 * justifiedGallery - v3.8.1
 * http://miromannino.github.io/Justified-Gallery/
 * Copyright (c) 2020 Miro Mannino
 * Licensed under the MIT license.
 */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,i){return void 0===i&&(i="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(i),i}:t(jQuery)}((function(t){var e=function(e,i){this.settings=i,this.checkSettings(),this.imgAnalyzerTimeout=null,this.entries=null,this.buildingRow={entriesBuff:[],width:0,height:0,aspectRatio:0},this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this.yield={every:2,flushed:0},this.border=i.border>=0?i.border:i.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges(),this.offY=this.border,this.rows=0,this.spinner={phase:0,timeSlot:150,$el:t('<div class="jg-spinner"><span></span><span></span><span></span></div>'),intervalId:null},this.scrollBarOn=!1,this.checkWidthIntervalId=null,this.galleryWidth=e.width(),this.$gallery=e};e.prototype.getSuffix=function(t,e){var i,s;for(i=t>e?t:e,s=0;s<this.suffixRanges.length;s++)if(i<=this.suffixRanges[s])return this.settings.sizeRangeSuffixes[this.suffixRanges[s]];return this.settings.sizeRangeSuffixes[this.suffixRanges[s-1]]},e.prototype.removeSuffix=function(t,e){return t.substring(0,t.length-e.length)},e.prototype.endsWith=function(t,e){return-1!==t.indexOf(e,t.length-e.length)},e.prototype.getUsedSuffix=function(t){for(var e in this.settings.sizeRangeSuffixes)if(this.settings.sizeRangeSuffixes.hasOwnProperty(e)){if(0===this.settings.sizeRangeSuffixes[e].length)continue;if(this.endsWith(t,this.settings.sizeRangeSuffixes[e]))return this.settings.sizeRangeSuffixes[e]}return""},e.prototype.newSrc=function(t,e,i,s){var o;if(this.settings.thumbnailPath)o=this.settings.thumbnailPath(t,e,i,s);else{var r=t.match(this.settings.extension),n=null!==r?r[0]:"";o=t.replace(this.settings.extension,""),o=this.removeSuffix(o,this.getUsedSuffix(o)),o+=this.getSuffix(e,i)+n}return o},e.prototype.showImg=function(t,e){this.settings.cssAnimation?(t.addClass("jg-entry-visible"),e&&e()):(t.stop().fadeTo(this.settings.imagesAnimationDuration,1,e),t.find(this.settings.imgSelector).stop().fadeTo(this.settings.imagesAnimationDuration,1,e))},e.prototype.extractImgSrcFromImage=function(t){var e=t.data("safe-src"),i="data-safe-src";return void 0===e&&(e=t.attr("src"),i="src"),t.data("jg.originalSrc",e),t.data("jg.src",e),t.data("jg.originalSrcLoc",i),e},e.prototype.imgFromEntry=function(t){var e=t.find(this.settings.imgSelector);return 0===e.length?null:e},e.prototype.captionFromEntry=function(t){var e=t.find("> .jg-caption");return 0===e.length?null:e},e.prototype.displayEntry=function(t,e,i,s,o,r){t.width(s),t.height(r),t.css("top",i),t.css("left",e);var n=this.imgFromEntry(t);if(null!==n){n.css("width",s),n.css("height",o),n.css("margin-left",-s/2),n.css("margin-top",-o/2);var a=n.data("jg.src");if(a){a=this.newSrc(a,s,o,n[0]),n.one("error",(function(){this.resetImgSrc(n)}));var l=function(){n.attr("src",a)};"skipped"===t.data("jg.loaded")&&a?this.onImageEvent(a,function(){this.showImg(t,l),t.data("jg.loaded",!0)}.bind(this)):this.showImg(t,l)}}else this.showImg(t);this.displayEntryCaption(t)},e.prototype.displayEntryCaption=function(e){var i=this.imgFromEntry(e);if(null!==i&&this.settings.captions){var s=this.captionFromEntry(e);if(null===s){var o=i.attr("alt");this.isValidCaption(o)||(o=e.attr("title")),this.isValidCaption(o)&&(s=t('<div class="jg-caption">'+o+"</div>"),e.append(s),e.data("jg.createdCaption",!0))}null!==s&&(this.settings.cssAnimation||s.stop().fadeTo(0,this.settings.captionSettings.nonVisibleOpacity),this.addCaptionEventsHandlers(e))}else this.removeCaptionEventsHandlers(e)},e.prototype.isValidCaption=function(t){return void 0!==t&&t.length>0},e.prototype.onEntryMouseEnterForCaption=function(e){var i=this.captionFromEntry(t(e.currentTarget));this.settings.cssAnimation?i.addClass("jg-caption-visible").removeClass("jg-caption-hidden"):i.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.visibleOpacity)},e.prototype.onEntryMouseLeaveForCaption=function(e){var i=this.captionFromEntry(t(e.currentTarget));this.settings.cssAnimation?i.removeClass("jg-caption-visible").removeClass("jg-caption-hidden"):i.stop().fadeTo(this.settings.captionSettings.animationDuration,this.settings.captionSettings.nonVisibleOpacity)},e.prototype.addCaptionEventsHandlers=function(e){var i=e.data("jg.captionMouseEvents");void 0===i&&(i={mouseenter:t.proxy(this.onEntryMouseEnterForCaption,this),mouseleave:t.proxy(this.onEntryMouseLeaveForCaption,this)},e.on("mouseenter",void 0,void 0,i.mouseenter),e.on("mouseleave",void 0,void 0,i.mouseleave),e.data("jg.captionMouseEvents",i))},e.prototype.removeCaptionEventsHandlers=function(t){var e=t.data("jg.captionMouseEvents");void 0!==e&&(t.off("mouseenter",void 0,e.mouseenter),t.off("mouseleave",void 0,e.mouseleave),t.removeData("jg.captionMouseEvents"))},e.prototype.clearBuildingRow=function(){this.buildingRow.entriesBuff=[],this.buildingRow.aspectRatio=0,this.buildingRow.width=0},e.prototype.prepareBuildingRow=function(t,e){var i,s,o,r,n,a=!0,l=0,h=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,d=h/this.buildingRow.aspectRatio,u=this.settings.rowHeight,g=this.buildingRow.width/h>this.settings.justifyThreshold;if(e||t&&"hide"===this.settings.lastRow&&!g){for(i=0;i<this.buildingRow.entriesBuff.length;i++)s=this.buildingRow.entriesBuff[i],this.settings.cssAnimation?s.removeClass("jg-entry-visible"):(s.stop().fadeTo(0,.1),s.find("> img, > a > img").fadeTo(0,0));return-1}for(t&&!g&&"justify"!==this.settings.lastRow&&"hide"!==this.settings.lastRow&&(a=!1,this.rows>0&&(a=(u=(this.offY-this.border-this.settings.margins*this.rows)/this.rows)*this.buildingRow.aspectRatio/h>this.settings.justifyThreshold)),i=0;i<this.buildingRow.entriesBuff.length;i++)o=(s=this.buildingRow.entriesBuff[i]).data("jg.width")/s.data("jg.height"),a?(r=i===this.buildingRow.entriesBuff.length-1?h:d*o,n=d):(r=u*o,n=u),h-=Math.round(r),s.data("jg.jwidth",Math.round(r)),s.data("jg.jheight",Math.ceil(n)),(0===i||l>n)&&(l=n);return this.buildingRow.height=l,a},e.prototype.flushRow=function(t,e){var i,s,o,r=this.settings,n=this.border;if(s=this.prepareBuildingRow(t,e),e||t&&"hide"===r.lastRow&&-1===s)this.clearBuildingRow();else{if(this.maxRowHeight&&this.maxRowHeight<this.buildingRow.height&&(this.buildingRow.height=this.maxRowHeight),t&&("center"===r.lastRow||"right"===r.lastRow)){var a=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*r.margins;for(o=0;o<this.buildingRow.entriesBuff.length;o++)a-=(i=this.buildingRow.entriesBuff[o]).data("jg.jwidth");"center"===r.lastRow?n+=Math.round(a/2):"right"===r.lastRow&&(n+=a)}var l=this.buildingRow.entriesBuff.length-1;for(o=0;o<=l;o++)i=this.buildingRow.entriesBuff[this.settings.rtl?l-o:o],this.displayEntry(i,n,this.offY,i.data("jg.jwidth"),i.data("jg.jheight"),this.buildingRow.height),n+=i.data("jg.jwidth")+r.margins;this.galleryHeightToSet=this.offY+this.buildingRow.height+this.border,this.setGalleryTempHeight(this.galleryHeightToSet+this.getSpinnerHeight()),(!t||this.buildingRow.height<=r.rowHeight&&s)&&(this.offY+=this.buildingRow.height+r.margins,this.rows+=1,this.clearBuildingRow(),this.settings.triggerEvent.call(this,"jg.rowflush"))}};var i=0;e.prototype.rememberGalleryHeight=function(){i=this.$gallery.height(),this.$gallery.height(i)},e.prototype.setGalleryTempHeight=function(t){i=Math.max(t,i),this.$gallery.height(i)},e.prototype.setGalleryFinalHeight=function(t){i=t,this.$gallery.height(t)},e.prototype.checkWidth=function(){this.checkWidthIntervalId=setInterval(t.proxy((function(){if(this.$gallery.is(":visible")){var t=parseFloat(this.$gallery.width());Math.abs(t-this.galleryWidth)>this.settings.refreshSensitivity&&(this.galleryWidth=t,this.rewind(),this.rememberGalleryHeight(),this.startImgAnalyzer(!0))}}),this),this.settings.refreshTime)},e.prototype.isSpinnerActive=function(){return null!==this.spinner.intervalId},e.prototype.getSpinnerHeight=function(){return this.spinner.$el.innerHeight()},e.prototype.stopLoadingSpinnerAnimation=function(){clearInterval(this.spinner.intervalId),this.spinner.intervalId=null,this.setGalleryTempHeight(this.$gallery.height()-this.getSpinnerHeight()),this.spinner.$el.detach()},e.prototype.startLoadingSpinnerAnimation=function(){var t=this.spinner,e=t.$el.find("span");clearInterval(t.intervalId),this.$gallery.append(t.$el),this.setGalleryTempHeight(this.offY+this.buildingRow.height+this.getSpinnerHeight()),t.intervalId=setInterval((function(){t.phase<e.length?e.eq(t.phase).fadeTo(t.timeSlot,1):e.eq(t.phase-e.length).fadeTo(t.timeSlot,0),t.phase=(t.phase+1)%(2*e.length)}),t.timeSlot)},e.prototype.rewind=function(){this.lastFetchedEntry=null,this.lastAnalyzedIndex=-1,this.offY=this.border,this.rows=0,this.clearBuildingRow()},e.prototype.getSelectorWithoutSpinner=function(){return this.settings.selector+", div:not(.jg-spinner)"},e.prototype.getAllEntries=function(){var t=this.getSelectorWithoutSpinner();return this.$gallery.children(t).toArray()},e.prototype.updateEntries=function(e){var i;if(e&&null!=this.lastFetchedEntry){var s=this.getSelectorWithoutSpinner();i=t(this.lastFetchedEntry).nextAll(s).toArray()}else this.entries=[],i=this.getAllEntries();return i.length>0&&(t.isFunction(this.settings.sort)?i=this.sortArray(i):this.settings.randomize&&(i=this.shuffleArray(i)),this.lastFetchedEntry=i[i.length-1],this.settings.filter?i=this.filterArray(i):this.resetFilters(i)),this.entries=this.entries.concat(i),!0},e.prototype.insertToGallery=function(e){var i=this;t.each(e,(function(){t(this).appendTo(i.$gallery)}))},e.prototype.shuffleArray=function(t){var e,i,s;for(e=t.length-1;e>0;e--)i=Math.floor(Math.random()*(e+1)),s=t[e],t[e]=t[i],t[i]=s;return this.insertToGallery(t),t},e.prototype.sortArray=function(t){return t.sort(this.settings.sort),this.insertToGallery(t),t},e.prototype.resetFilters=function(e){for(var i=0;i<e.length;i++)t(e[i]).removeClass("jg-filtered")},e.prototype.filterArray=function(e){var i=this.settings;if("string"===t.type(i.filter))return e.filter((function(e){var s=t(e);return s.is(i.filter)?(s.removeClass("jg-filtered"),!0):(s.addClass("jg-filtered").removeClass("jg-visible"),!1)}));if(t.isFunction(i.filter)){for(var s=e.filter(i.filter),o=0;o<e.length;o++)-1===s.indexOf(e[o])?t(e[o]).addClass("jg-filtered").removeClass("jg-visible"):t(e[o]).removeClass("jg-filtered");return s}},e.prototype.resetImgSrc=function(t){"src"===t.data("jg.originalSrcLoc")?t.attr("src",t.data("jg.originalSrc")):t.attr("src","")},e.prototype.destroy=function(){clearInterval(this.checkWidthIntervalId),this.stopImgAnalyzerStarter(),t.each(this.getAllEntries(),t.proxy((function(e,i){var s=t(i);s.css("width",""),s.css("height",""),s.css("top",""),s.css("left",""),s.data("jg.loaded",void 0),s.removeClass("jg-entry jg-filtered jg-entry-visible");var o=this.imgFromEntry(s);o&&(o.css("width",""),o.css("height",""),o.css("margin-left",""),o.css("margin-top",""),this.resetImgSrc(o),o.data("jg.originalSrc",void 0),o.data("jg.originalSrcLoc",void 0),o.data("jg.src",void 0)),this.removeCaptionEventsHandlers(s);var r=this.captionFromEntry(s);s.data("jg.createdCaption")?(s.data("jg.createdCaption",void 0),null!==r&&r.remove()):null!==r&&r.fadeTo(0,1)}),this)),this.$gallery.css("height",""),this.$gallery.removeClass("justified-gallery"),this.$gallery.data("jg.controller",void 0),this.settings.triggerEvent.call(this,"jg.destroy")},e.prototype.analyzeImages=function(e){for(var i=this.lastAnalyzedIndex+1;i<this.entries.length;i++){var s=t(this.entries[i]);if(!0===s.data("jg.loaded")||"skipped"===s.data("jg.loaded")){var o=this.galleryWidth-2*this.border-(this.buildingRow.entriesBuff.length-1)*this.settings.margins,r=s.data("jg.width")/s.data("jg.height");if(this.buildingRow.entriesBuff.push(s),this.buildingRow.aspectRatio+=r,this.buildingRow.width+=r*this.settings.rowHeight,this.lastAnalyzedIndex=i,o/(this.buildingRow.aspectRatio+r)<this.settings.rowHeight&&(this.flushRow(!1,this.settings.maxRowsCount>0&&this.rows===this.settings.maxRowsCount),++this.yield.flushed>=this.yield.every))return void this.startImgAnalyzer(e)}else if("error"!==s.data("jg.loaded"))return}this.buildingRow.entriesBuff.length>0&&this.flushRow(!0,this.settings.maxRowsCount>0&&this.rows===this.settings.maxRowsCount),this.isSpinnerActive()&&this.stopLoadingSpinnerAnimation(),this.stopImgAnalyzerStarter(),this.setGalleryFinalHeight(this.galleryHeightToSet),this.settings.triggerEvent.call(this,e?"jg.resize":"jg.complete")},e.prototype.stopImgAnalyzerStarter=function(){this.yield.flushed=0,null!==this.imgAnalyzerTimeout&&(clearTimeout(this.imgAnalyzerTimeout),this.imgAnalyzerTimeout=null)},e.prototype.startImgAnalyzer=function(t){var e=this;this.stopImgAnalyzerStarter(),this.imgAnalyzerTimeout=setTimeout((function(){e.analyzeImages(t)}),.001)},e.prototype.onImageEvent=function(e,i,s){if(i||s){var o=new Image,r=t(o);i&&r.one("load",(function(){r.off("load error"),i(o)})),s&&r.one("error",(function(){r.off("load error"),s(o)})),o.src=e}},e.prototype.init=function(){var e=!1,i=!1,s=this;t.each(this.entries,(function(o,r){var n=t(r),a=s.imgFromEntry(n);if(n.addClass("jg-entry"),!0!==n.data("jg.loaded")&&"skipped"!==n.data("jg.loaded"))if(null!==s.settings.rel&&n.attr("rel",s.settings.rel),null!==s.settings.target&&n.attr("target",s.settings.target),null!==a){var l=s.extractImgSrcFromImage(a);if(!1===s.settings.waitThumbnailsLoad||!l){var h=parseFloat(a.attr("width")),d=parseFloat(a.attr("height"));if("svg"===a.prop("tagName")&&(h=parseFloat(a[0].getBBox().width),d=parseFloat(a[0].getBBox().height)),!isNaN(h)&&!isNaN(d))return n.data("jg.width",h),n.data("jg.height",d),n.data("jg.loaded","skipped"),i=!0,s.startImgAnalyzer(!1),!0}n.data("jg.loaded",!1),e=!0,s.isSpinnerActive()||s.startLoadingSpinnerAnimation(),s.onImageEvent(l,(function(t){n.data("jg.width",t.width),n.data("jg.height",t.height),n.data("jg.loaded",!0),s.startImgAnalyzer(!1)}),(function(){n.data("jg.loaded","error"),s.startImgAnalyzer(!1)}))}else n.data("jg.loaded",!0),n.data("jg.width",n.width()|parseFloat(n.css("width"))|1),n.data("jg.height",n.height()|parseFloat(n.css("height"))|1)})),e||i||this.startImgAnalyzer(!1),this.checkWidth()},e.prototype.checkOrConvertNumber=function(e,i){if("string"===t.type(e[i])&&(e[i]=parseFloat(e[i])),"number"!==t.type(e[i]))throw i+" must be a number";if(isNaN(e[i]))throw"invalid number for "+i},e.prototype.checkSizeRangesSuffixes=function(){if("object"!==t.type(this.settings.sizeRangeSuffixes))throw"sizeRangeSuffixes must be defined and must be an object";var e=[];for(var i in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(i)&&e.push(i);for(var s={0:""},o=0;o<e.length;o++)if("string"===t.type(e[o]))try{s[parseInt(e[o].replace(/^[a-z]+/,""),10)]=this.settings.sizeRangeSuffixes[e[o]]}catch(t){throw"sizeRangeSuffixes keys must contains correct numbers ("+t+")"}else s[e[o]]=this.settings.sizeRangeSuffixes[e[o]];this.settings.sizeRangeSuffixes=s},e.prototype.retrieveMaxRowHeight=function(){var e=null,i=this.settings.rowHeight;if("string"===t.type(this.settings.maxRowHeight))e=this.settings.maxRowHeight.match(/^[0-9]+%$/)?i*parseFloat(this.settings.maxRowHeight.match(/^([0-9]+)%$/)[1])/100:parseFloat(this.settings.maxRowHeight);else{if("number"!==t.type(this.settings.maxRowHeight)){if(!1===this.settings.maxRowHeight||null==this.settings.maxRowHeight)return null;throw"maxRowHeight must be a number or a percentage"}e=this.settings.maxRowHeight}if(isNaN(e))throw"invalid number for maxRowHeight";return e<i&&(e=i),e},e.prototype.checkSettings=function(){this.checkSizeRangesSuffixes(),this.checkOrConvertNumber(this.settings,"rowHeight"),this.checkOrConvertNumber(this.settings,"margins"),this.checkOrConvertNumber(this.settings,"border"),this.checkOrConvertNumber(this.settings,"maxRowsCount");var e=["justify","nojustify","left","center","right","hide"];if(-1===e.indexOf(this.settings.lastRow))throw"lastRow must be one of: "+e.join(", ");if(this.checkOrConvertNumber(this.settings,"justifyThreshold"),this.settings.justifyThreshold<0||this.settings.justifyThreshold>1)throw"justifyThreshold must be in the interval [0,1]";if("boolean"!==t.type(this.settings.cssAnimation))throw"cssAnimation must be a boolean";if("boolean"!==t.type(this.settings.captions))throw"captions must be a boolean";if(this.checkOrConvertNumber(this.settings.captionSettings,"animationDuration"),this.checkOrConvertNumber(this.settings.captionSettings,"visibleOpacity"),this.settings.captionSettings.visibleOpacity<0||this.settings.captionSettings.visibleOpacity>1)throw"captionSettings.visibleOpacity must be in the interval [0, 1]";if(this.checkOrConvertNumber(this.settings.captionSettings,"nonVisibleOpacity"),this.settings.captionSettings.nonVisibleOpacity<0||this.settings.captionSettings.nonVisibleOpacity>1)throw"captionSettings.nonVisibleOpacity must be in the interval [0, 1]";if(this.checkOrConvertNumber(this.settings,"imagesAnimationDuration"),this.checkOrConvertNumber(this.settings,"refreshTime"),this.checkOrConvertNumber(this.settings,"refreshSensitivity"),"boolean"!==t.type(this.settings.randomize))throw"randomize must be a boolean";if("string"!==t.type(this.settings.selector))throw"selector must be a string";if(!1!==this.settings.sort&&!t.isFunction(this.settings.sort))throw"sort must be false or a comparison function";if(!1!==this.settings.filter&&!t.isFunction(this.settings.filter)&&"string"!==t.type(this.settings.filter))throw"filter must be false, a string or a filter function"},e.prototype.retrieveSuffixRanges=function(){var t=[];for(var e in this.settings.sizeRangeSuffixes)this.settings.sizeRangeSuffixes.hasOwnProperty(e)&&t.push(parseInt(e,10));return t.sort((function(t,e){return t>e?1:t<e?-1:0})),t},e.prototype.updateSettings=function(e){this.settings=t.extend({},this.settings,e),this.checkSettings(),this.border=this.settings.border>=0?this.settings.border:this.settings.margins,this.maxRowHeight=this.retrieveMaxRowHeight(),this.suffixRanges=this.retrieveSuffixRanges()},e.prototype.defaults={sizeRangeSuffixes:{},thumbnailPath:void 0,rowHeight:120,maxRowHeight:!1,maxRowsCount:0,margins:1,border:-1,lastRow:"nojustify",justifyThreshold:.9,waitThumbnailsLoad:!0,captions:!0,cssAnimation:!0,imagesAnimationDuration:500,captionSettings:{animationDuration:500,visibleOpacity:.7,nonVisibleOpacity:0},rel:null,target:null,extension:/\.[^.\\/]+$/,refreshTime:200,refreshSensitivity:0,randomize:!1,rtl:!1,sort:!1,filter:!1,selector:"a",imgSelector:"> img, > a > img, > svg, > a > svg",triggerEvent:function(t){this.$gallery.trigger(t)}},t.fn.justifiedGallery=function(i){return this.each((function(s,o){var r=t(o);r.addClass("justified-gallery");var n=r.data("jg.controller");if(void 0===n){if(null!=i&&"object"!==t.type(i)){if("destroy"===i)return;throw"The argument must be an object"}n=new e(r,t.extend({},e.prototype.defaults,i)),r.data("jg.controller",n)}else if("norewind"===i);else{if("destroy"===i)return void n.destroy();n.updateSettings(i),n.rewind()}n.updateEntries("norewind"===i)&&n.init()}))}})),
/*!
 * jQuery Mousewheel 3.1.13
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 */
function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}((function(t){var e,i,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice;if(t.event.fixHooks)for(var n=s.length;n;)t.event.fixHooks[s[--n]]=t.event.mouseHooks;var a=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=o.length;e;)this.addEventListener(o[--e],l,!1);else this.onmousewheel=l;t.data(this,"mousewheel-line-height",a.getLineHeight(this)),t.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=o.length;e;)this.removeEventListener(o[--e],l,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var i=t(e),s=i["offsetParent"in t.fn?"offsetParent":"parent"]();return s.length||(s=t("body")),parseInt(s.css("fontSize"),10)||parseInt(i.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(s){var o,n=s||window.event,l=r.call(arguments,1),u=0,g=0,c=0,m=0,f=0;if((s=t.event.fix(n)).type="mousewheel","detail"in n&&(c=-1*n.detail),"wheelDelta"in n&&(c=n.wheelDelta),"wheelDeltaY"in n&&(c=n.wheelDeltaY),"wheelDeltaX"in n&&(g=-1*n.wheelDeltaX),"axis"in n&&n.axis===n.HORIZONTAL_AXIS&&(g=-1*c,c=0),u=0===c?g:c,"deltaY"in n&&(u=c=-1*n.deltaY),"deltaX"in n&&(g=n.deltaX,0===c&&(u=-1*g)),0!==c||0!==g){if(1===n.deltaMode){var p=t.data(this,"mousewheel-line-height");u*=p,c*=p,g*=p}else if(2===n.deltaMode){var y=t.data(this,"mousewheel-page-height");u*=y,c*=y,g*=y}if(o=Math.max(Math.abs(c),Math.abs(g)),(!i||o<i)&&(i=o,d(n,o)&&(i/=40)),d(n,o)&&(u/=40,g/=40,c/=40),u=Math[u>=1?"floor":"ceil"](u/i),g=Math[g>=1?"floor":"ceil"](g/i),c=Math[c>=1?"floor":"ceil"](c/i),a.settings.normalizeOffset&&this.getBoundingClientRect){var b=this.getBoundingClientRect();m=s.clientX-b.left,f=s.clientY-b.top}return s.deltaX=g,s.deltaY=c,s.deltaFactor=i,s.offsetX=m,s.offsetY=f,s.deltaMode=0,l.unshift(s,u,g,c),e&&clearTimeout(e),e=setTimeout(h,200),(t.event.dispatch||t.event.handle).apply(this,l)}}function h(){i=null}function d(t,e){return a.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})),function(){"use strict";var t={mode:"lg-slide",cssEasing:"ease",easing:"linear",speed:600,height:"100%",width:"100%",addClass:"",startClass:"lg-start-zoom",backdropDuration:150,hideBarsDelay:6e3,useLeft:!1,ariaLabelledby:"",ariaDescribedby:"",closable:!0,loop:!0,escKey:!0,keyPress:!0,controls:!0,slideEndAnimatoin:!0,hideControlOnEnd:!1,mousewheel:!0,getCaptionFromTitleOrAlt:!0,appendSubHtmlTo:".lg-sub-html",subHtmlSelectorRelative:!1,preload:1,showAfterLoad:!0,selector:"",selectWithin:"",nextHtml:"",prevHtml:"",index:!1,iframeMaxWidth:"100%",download:!0,counter:!0,appendCounterTo:".lg-toolbar",swipeThreshold:50,enableSwipe:!0,enableDrag:!0,dynamic:!1,dynamicEl:[],galleryId:1,supportLegacyBrowser:!0};function e(e,i){if(this.el=e,this.$el=$(e),this.s=$.extend({},t,i),this.s.dynamic&&"undefined"!==this.s.dynamicEl&&this.s.dynamicEl.constructor===Array&&!this.s.dynamicEl.length)throw"When using dynamic mode, you must also define dynamicEl as an Array.";return this.modules={},this.lGalleryOn=!1,this.lgBusy=!1,this.hideBarTimeout=!1,this.isTouch="ontouchstart"in document.documentElement,this.s.slideEndAnimatoin&&(this.s.hideControlOnEnd=!1),this.s.dynamic?this.$items=this.s.dynamicEl:"this"===this.s.selector?this.$items=this.$el:""!==this.s.selector?this.s.selectWithin?this.$items=$(this.s.selectWithin).find(this.s.selector):this.$items=this.$el.find($(this.s.selector)):this.$items=this.$el.children(),this.$slide="",this.$outer="",this.init(),this}e.prototype.init=function(){var t=this;t.s.preload>t.$items.length&&(t.s.preload=t.$items.length);var e=window.location.hash;e.indexOf("lg="+this.s.galleryId)>0&&(t.index=parseInt(e.split("&slide=")[1],10),$("body").addClass("lg-from-hash"),$("body").hasClass("lg-on")||(setTimeout((function(){t.build(t.index)})),$("body").addClass("lg-on"))),t.s.dynamic?(t.$el.trigger("onBeforeOpen.lg"),t.index=t.s.index||0,$("body").hasClass("lg-on")||setTimeout((function(){t.build(t.index),$("body").addClass("lg-on")}))):t.$items.on("click.lgcustom",(function(e){try{e.preventDefault(),e.preventDefault()}catch(t){e.returnValue=!1}t.$el.trigger("onBeforeOpen.lg"),t.index=t.s.index||t.$items.index(this),$("body").hasClass("lg-on")||(t.build(t.index),$("body").addClass("lg-on"))}))},e.prototype.build=function(t){var e=this;e.structure(),$.each($.fn.lightGallery.modules,(function(t){e.modules[t]=new $.fn.lightGallery.modules[t](e.el)})),e.slide(t,!1,!1,!1),e.s.keyPress&&e.keyPress(),e.$items.length>1?(e.arrow(),setTimeout((function(){e.enableDrag(),e.enableSwipe()}),50),e.s.mousewheel&&e.mousewheel()):e.$slide.on("click.lg",(function(){e.$el.trigger("onSlideClick.lg")})),e.counter(),e.closeGallery(),e.$el.trigger("onAfterOpen.lg"),e.s.hideBarsDelay>0&&e.$outer.on("mousemove.lg click.lg touchstart.lg",(function(){e.$outer.removeClass("lg-hide-items"),clearTimeout(e.hideBarTimeout),e.hideBarTimeout=setTimeout((function(){e.$outer.addClass("lg-hide-items")}),e.s.hideBarsDelay)})),e.$outer.trigger("mousemove.lg")},e.prototype.structure=function(){var t,e="",i="",s=0,o="",r=this;for($("body").append('<div class="lg-backdrop"></div>'),$(".lg-backdrop").css("transition-duration",this.s.backdropDuration+"ms"),s=0;s<this.$items.length;s++)e+='<div class="lg-item"></div>';if(this.s.controls&&this.$items.length>1&&(i='<div class="lg-actions"><button type="button" aria-label="Previous slide" class="lg-prev lg-icon">'+this.s.prevHtml+'</button><button type="button" aria-label="Next slide" class="lg-next lg-icon">'+this.s.nextHtml+"</button></div>"),".lg-sub-html"===this.s.appendSubHtmlTo&&(o='<div role="status" aria-live="polite" class="lg-sub-html"></div>'),t='<div tabindex="-1" aria-modal="true" '+(this.s.ariaLabelledby?'aria-labelledby="'+this.s.ariaLabelledby+'"':"")+" "+(this.s.ariaDescribedby?'aria-describedby="'+this.s.ariaDescribedby+'"':"")+' role="dialog" class="lg-outer '+this.s.addClass+" "+this.s.startClass+'"><div class="lg" style="width:'+this.s.width+"; height:"+this.s.height+'"><div class="lg-inner">'+e+'</div><div class="lg-toolbar lg-group"><button type="button" aria-label="Close gallery" class="lg-close lg-icon"></button></div>'+i+o+"</div></div>",$("body").append(t),this.$outer=$(".lg-outer"),this.$outer.focus(),this.$slide=this.$outer.find(".lg-item"),this.s.useLeft?(this.$outer.addClass("lg-use-left"),this.s.mode="lg-slide"):this.$outer.addClass("lg-use-css3"),r.setTop(),$(window).on("resize.lg orientationchange.lg",(function(){setTimeout((function(){r.setTop()}),100)})),this.$slide.eq(this.index).addClass("lg-current"),this.doCss()?this.$outer.addClass("lg-css3"):(this.$outer.addClass("lg-css"),this.s.speed=0),this.$outer.addClass(this.s.mode),this.s.enableDrag&&this.$items.length>1&&this.$outer.addClass("lg-grab"),this.s.showAfterLoad&&this.$outer.addClass("lg-show-after-load"),this.doCss()){var n=this.$outer.find(".lg-inner");n.css("transition-timing-function",this.s.cssEasing),n.css("transition-duration",this.s.speed+"ms")}setTimeout((function(){$(".lg-backdrop").addClass("in")})),setTimeout((function(){r.$outer.addClass("lg-visible")}),this.s.backdropDuration),this.s.download&&this.$outer.find(".lg-toolbar").append('<a id="lg-download" aria-label="Download" target="_blank" download class="lg-download lg-icon"></a>'),this.prevScrollTop=$(window).scrollTop()},e.prototype.setTop=function(){if("100%"!==this.s.height){var t=$(window).height(),e=(t-parseInt(this.s.height,10))/2,i=this.$outer.find(".lg");t>=parseInt(this.s.height,10)?i.css("top",e+"px"):i.css("top","0px")}},e.prototype.doCss=function(){return!!function(){var t=["transition","MozTransition","WebkitTransition","OTransition","msTransition","KhtmlTransition"],e=document.documentElement,i=0;for(i=0;i<t.length;i++)if(t[i]in e.style)return!0}()},e.prototype.isVideo=function(t,e){var i;if(i=this.s.dynamic?this.s.dynamicEl[e].html:this.$items.eq(e).attr("data-html"),!t)return i?{html5:!0}:(console.error("lightGallery :- data-src is not provided on slide item "+(e+1)+". Please make sure the selector property is properly configured. More info - http://sachinchoolur.github.io/lightGallery/demos/html-markup.html"),!1);var s=t.match(/\/\/(?:www\.)?youtu(?:\.be|be\.com|be-nocookie\.com)\/(?:watch\?v=|embed\/)?([a-z0-9\-\_\%]+)/i),o=t.match(/\/\/(?:www\.)?(?:player\.)?vimeo.com\/(?:video\/)?([0-9a-z\-_]+)/i),r=t.match(/\/\/(?:www\.)?dai.ly\/([0-9a-z\-_]+)/i),n=t.match(/\/\/(?:www\.)?(?:vk\.com|vkontakte\.ru)\/(?:video_ext\.php\?)(.*)/i);return s?{youtube:s}:o?{vimeo:o}:r?{dailymotion:r}:n?{vk:n}:void 0},e.prototype.counter=function(){this.s.counter&&$(this.s.appendCounterTo).append('<div id="lg-counter" role="status" aria-live="polite"><span id="lg-counter-current">'+(parseInt(this.index,10)+1)+'</span> / <span id="lg-counter-all">'+this.$items.length+"</span></div>")},e.prototype.addHtml=function(t){var e,i,s=null;if(this.s.dynamic?this.s.dynamicEl[t].subHtmlUrl?e=this.s.dynamicEl[t].subHtmlUrl:s=this.s.dynamicEl[t].subHtml:(i=this.$items.eq(t)).attr("data-sub-html-url")?e=i.attr("data-sub-html-url"):(s=i.attr("data-sub-html"),this.s.getCaptionFromTitleOrAlt&&!s&&(s=i.attr("title")||i.find("img").first().attr("alt"))),!e)if(null!=s){var o=s.substring(0,1);"."!==o&&"#"!==o||(s=this.s.subHtmlSelectorRelative&&!this.s.dynamic?i.find(s).html():$(s).html())}else s="";".lg-sub-html"===this.s.appendSubHtmlTo?e?this.$outer.find(this.s.appendSubHtmlTo).load(e):this.$outer.find(this.s.appendSubHtmlTo).html(s):e?this.$slide.eq(t).load(e):this.$slide.eq(t).append(s),null!=s&&(""===s?this.$outer.find(this.s.appendSubHtmlTo).addClass("lg-empty-html"):this.$outer.find(this.s.appendSubHtmlTo).removeClass("lg-empty-html")),this.$el.trigger("onAfterAppendSubHtml.lg",[t])},e.prototype.preload=function(t){var e=1,i=1;for(e=1;e<=this.s.preload&&!(e>=this.$items.length-t);e++)this.loadContent(t+e,!1,0);for(i=1;i<=this.s.preload&&!(t-i<0);i++)this.loadContent(t-i,!1,0)},e.prototype.loadContent=function(t,e,i){var s,o,r,n,a,l,h,d=this,u=!1,g=function(t){for(var e=[],i=[],s=0;s<t.length;s++){var r=t[s].split(" ");""===r[0]&&r.splice(0,1),i.push(r[0]),e.push(r[1])}for(var n=$(window).width(),a=0;a<e.length;a++)if(parseInt(e[a],10)>n){o=i[a];break}};if(d.s.dynamic){if(d.s.dynamicEl[t].poster&&(u=!0,r=d.s.dynamicEl[t].poster),l=d.s.dynamicEl[t].html,o=d.s.dynamicEl[t].src,h=d.s.dynamicEl[t].alt,d.s.dynamicEl[t].responsive)g(d.s.dynamicEl[t].responsive.split(","));n=d.s.dynamicEl[t].srcset,a=d.s.dynamicEl[t].sizes}else{var c=d.$items.eq(t);if(c.attr("data-poster")&&(u=!0,r=c.attr("data-poster")),l=c.attr("data-html"),o=c.attr("href")||c.attr("data-src"),h=c.attr("title")||c.find("img").first().attr("alt"),c.attr("data-responsive"))g(c.attr("data-responsive").split(","));n=c.attr("data-srcset"),a=c.attr("data-sizes")}var m=!1;d.s.dynamic?d.s.dynamicEl[t].iframe&&(m=!0):"true"===d.$items.eq(t).attr("data-iframe")&&(m=!0);var f=d.isVideo(o,t);if(!d.$slide.eq(t).hasClass("lg-loaded")){if(m)d.$slide.eq(t).prepend('<div class="lg-video-cont lg-has-iframe" style="max-width:'+d.s.iframeMaxWidth+'"><div class="lg-video"><iframe class="lg-object" frameborder="0" src="'+o+'"  allowfullscreen="true"></iframe></div></div>');else if(u){var p="";p=f&&f.youtube?"lg-has-youtube":f&&f.vimeo?"lg-has-vimeo":"lg-has-html5",d.$slide.eq(t).prepend('<div class="lg-video-cont '+p+' "><div class="lg-video"><span class="lg-video-play"></span><img class="lg-object lg-has-poster" src="'+r+'" /></div></div>')}else f?(d.$slide.eq(t).prepend('<div class="lg-video-cont "><div class="lg-video"></div></div>'),d.$el.trigger("hasVideo.lg",[t,o,l])):(h=h?'alt="'+h+'"':"",d.$slide.eq(t).prepend('<div class="lg-img-wrap"><img class="lg-object lg-image" '+h+' src="'+o+'" /></div>'));if(d.$el.trigger("onAferAppendSlide.lg",[t]),s=d.$slide.eq(t).find(".lg-object"),a&&s.attr("sizes",a),n&&(s.attr("srcset",n),this.s.supportLegacyBrowser))try{picturefill({elements:[s[0]]})}catch(t){console.warn("lightGallery :- If you want srcset to be supported for older browser please include picturefil version 2 javascript library in your document.")}".lg-sub-html"!==this.s.appendSubHtmlTo&&d.addHtml(t),d.$slide.eq(t).addClass("lg-loaded")}d.$slide.eq(t).find(".lg-object").on("load.lg error.lg",(function(){var e=0;i&&!$("body").hasClass("lg-from-hash")&&(e=i),setTimeout((function(){d.$slide.eq(t).addClass("lg-complete"),d.$el.trigger("onSlideItemLoad.lg",[t,i||0])}),e)})),f&&f.html5&&!u&&d.$slide.eq(t).addClass("lg-complete"),!0===e&&(d.$slide.eq(t).hasClass("lg-complete")?d.preload(t):d.$slide.eq(t).find(".lg-object").on("load.lg error.lg",(function(){d.preload(t)})))},e.prototype.slide=function(t,e,i,s){var o=this.$outer.find(".lg-current").index(),r=this;if(!r.lGalleryOn||o!==t){var n=this.$slide.length,a=r.lGalleryOn?this.s.speed:0;if(!r.lgBusy){var l,h,d;if(this.s.download)(l=r.s.dynamic?!1!==r.s.dynamicEl[t].downloadUrl&&(r.s.dynamicEl[t].downloadUrl||r.s.dynamicEl[t].src):"false"!==r.$items.eq(t).attr("data-download-url")&&(r.$items.eq(t).attr("data-download-url")||r.$items.eq(t).attr("href")||r.$items.eq(t).attr("data-src")))?($("#lg-download").attr("href",l),r.$outer.removeClass("lg-hide-download")):r.$outer.addClass("lg-hide-download");if(this.$el.trigger("onBeforeSlide.lg",[o,t,e,i]),r.lgBusy=!0,clearTimeout(r.hideBarTimeout),".lg-sub-html"===this.s.appendSubHtmlTo&&setTimeout((function(){r.addHtml(t)}),a),this.arrowDisable(t),s||(t<o?s="prev":t>o&&(s="next")),e)this.$slide.removeClass("lg-prev-slide lg-current lg-next-slide"),n>2?(h=t-1,d=t+1,(0===t&&o===n-1||t===n-1&&0===o)&&(d=0,h=n-1)):(h=0,d=1),"prev"===s?r.$slide.eq(d).addClass("lg-next-slide"):r.$slide.eq(h).addClass("lg-prev-slide"),r.$slide.eq(t).addClass("lg-current");else r.$outer.addClass("lg-no-trans"),this.$slide.removeClass("lg-prev-slide lg-next-slide"),"prev"===s?(this.$slide.eq(t).addClass("lg-prev-slide"),this.$slide.eq(o).addClass("lg-next-slide")):(this.$slide.eq(t).addClass("lg-next-slide"),this.$slide.eq(o).addClass("lg-prev-slide")),setTimeout((function(){r.$slide.removeClass("lg-current"),r.$slide.eq(t).addClass("lg-current"),r.$outer.removeClass("lg-no-trans")}),50);r.lGalleryOn?(setTimeout((function(){r.loadContent(t,!0,0)}),this.s.speed+50),setTimeout((function(){r.lgBusy=!1,r.$el.trigger("onAfterSlide.lg",[o,t,e,i])}),this.s.speed)):(r.loadContent(t,!0,r.s.backdropDuration),r.lgBusy=!1,r.$el.trigger("onAfterSlide.lg",[o,t,e,i])),r.lGalleryOn=!0,this.s.counter&&$("#lg-counter-current").text(t+1)}r.index=t}},e.prototype.goToNextSlide=function(t){var e=this,i=e.s.loop;t&&e.$slide.length<3&&(i=!1),e.lgBusy||(e.index+1<e.$slide.length?(e.index++,e.$el.trigger("onBeforeNextSlide.lg",[e.index]),e.slide(e.index,t,!1,"next")):i?(e.index=0,e.$el.trigger("onBeforeNextSlide.lg",[e.index]),e.slide(e.index,t,!1,"next")):e.s.slideEndAnimatoin&&!t&&(e.$outer.addClass("lg-right-end"),setTimeout((function(){e.$outer.removeClass("lg-right-end")}),400)))},e.prototype.goToPrevSlide=function(t){var e=this,i=e.s.loop;t&&e.$slide.length<3&&(i=!1),e.lgBusy||(e.index>0?(e.index--,e.$el.trigger("onBeforePrevSlide.lg",[e.index,t]),e.slide(e.index,t,!1,"prev")):i?(e.index=e.$items.length-1,e.$el.trigger("onBeforePrevSlide.lg",[e.index,t]),e.slide(e.index,t,!1,"prev")):e.s.slideEndAnimatoin&&!t&&(e.$outer.addClass("lg-left-end"),setTimeout((function(){e.$outer.removeClass("lg-left-end")}),400)))},e.prototype.keyPress=function(){var t=this;this.$items.length>1&&$(window).on("keyup.lg",(function(e){t.$items.length>1&&(37===e.keyCode&&(e.preventDefault(),t.goToPrevSlide()),39===e.keyCode&&(e.preventDefault(),t.goToNextSlide()))})),$(window).on("keydown.lg",(function(e){!0===t.s.escKey&&27===e.keyCode&&(e.preventDefault(),t.$outer.hasClass("lg-thumb-open")?t.$outer.removeClass("lg-thumb-open"):t.destroy())}))},e.prototype.arrow=function(){var t=this;this.$outer.find(".lg-prev").on("click.lg",(function(){t.goToPrevSlide()})),this.$outer.find(".lg-next").on("click.lg",(function(){t.goToNextSlide()}))},e.prototype.arrowDisable=function(t){!this.s.loop&&this.s.hideControlOnEnd&&(t+1<this.$slide.length?this.$outer.find(".lg-next").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-next").attr("disabled","disabled").addClass("disabled"),t>0?this.$outer.find(".lg-prev").removeAttr("disabled").removeClass("disabled"):this.$outer.find(".lg-prev").attr("disabled","disabled").addClass("disabled"))},e.prototype.setTranslate=function(t,e,i){this.s.useLeft?t.css("left",e):t.css({transform:"translate3d("+e+"px, "+i+"px, 0px)"})},e.prototype.touchMove=function(t,e){var i=e-t;Math.abs(i)>15&&(this.$outer.addClass("lg-dragging"),this.setTranslate(this.$slide.eq(this.index),i,0),this.setTranslate($(".lg-prev-slide"),-this.$slide.eq(this.index).width()+i,0),this.setTranslate($(".lg-next-slide"),this.$slide.eq(this.index).width()+i,0))},e.prototype.touchEnd=function(t){var e=this;"lg-slide"!==e.s.mode&&e.$outer.addClass("lg-slide"),this.$slide.not(".lg-current, .lg-prev-slide, .lg-next-slide").css("opacity","0"),setTimeout((function(){e.$outer.removeClass("lg-dragging"),t<0&&Math.abs(t)>e.s.swipeThreshold?e.goToNextSlide(!0):t>0&&Math.abs(t)>e.s.swipeThreshold?e.goToPrevSlide(!0):Math.abs(t)<5&&e.$el.trigger("onSlideClick.lg"),e.$slide.removeAttr("style")})),setTimeout((function(){e.$outer.hasClass("lg-dragging")||"lg-slide"===e.s.mode||e.$outer.removeClass("lg-slide")}),e.s.speed+100)},e.prototype.enableSwipe=function(){var t=this,e=0,i=0,s=!1;t.s.enableSwipe&&t.doCss()&&(t.$slide.on("touchstart.lg",(function(i){t.$outer.hasClass("lg-zoomed")||t.lgBusy||(i.preventDefault(),t.manageSwipeClass(),e=i.originalEvent.targetTouches[0].pageX)})),t.$slide.on("touchmove.lg",(function(o){t.$outer.hasClass("lg-zoomed")||(o.preventDefault(),i=o.originalEvent.targetTouches[0].pageX,t.touchMove(e,i),s=!0)})),t.$slide.on("touchend.lg",(function(){t.$outer.hasClass("lg-zoomed")||(s?(s=!1,t.touchEnd(i-e)):t.$el.trigger("onSlideClick.lg"))})))},e.prototype.enableDrag=function(){var t=this,e=0,i=0,s=!1,o=!1;t.s.enableDrag&&t.doCss()&&(t.$slide.on("mousedown.lg",(function(i){t.$outer.hasClass("lg-zoomed")||t.lgBusy||$(i.target).text().trim()||(i.preventDefault(),t.manageSwipeClass(),e=i.pageX,s=!0,t.$outer.scrollLeft+=1,t.$outer.scrollLeft-=1,t.$outer.removeClass("lg-grab").addClass("lg-grabbing"),t.$el.trigger("onDragstart.lg"))})),$(window).on("mousemove.lg",(function(r){s&&(o=!0,i=r.pageX,t.touchMove(e,i),t.$el.trigger("onDragmove.lg"))})),$(window).on("mouseup.lg",(function(r){o?(o=!1,t.touchEnd(i-e),t.$el.trigger("onDragend.lg")):($(r.target).hasClass("lg-object")||$(r.target).hasClass("lg-video-play"))&&t.$el.trigger("onSlideClick.lg"),s&&(s=!1,t.$outer.removeClass("lg-grabbing").addClass("lg-grab"))})))},e.prototype.manageSwipeClass=function(){var t=this.index+1,e=this.index-1;this.s.loop&&this.$slide.length>2&&(0===this.index?e=this.$slide.length-1:this.index===this.$slide.length-1&&(t=0)),this.$slide.removeClass("lg-next-slide lg-prev-slide"),e>-1&&this.$slide.eq(e).addClass("lg-prev-slide"),this.$slide.eq(t).addClass("lg-next-slide")},e.prototype.mousewheel=function(){var t=this;t.$outer.on("mousewheel.lg",(function(e){e.deltaY&&(e.deltaY>0?t.goToPrevSlide():t.goToNextSlide(),e.preventDefault())}))},e.prototype.closeGallery=function(){var t=this,e=!1;this.$outer.find(".lg-close").on("click.lg",(function(){t.destroy()})),t.s.closable&&(t.$outer.on("mousedown.lg",(function(t){e=!!($(t.target).is(".lg-outer")||$(t.target).is(".lg-item ")||$(t.target).is(".lg-img-wrap"))})),t.$outer.on("mousemove.lg",(function(){e=!1})),t.$outer.on("mouseup.lg",(function(i){($(i.target).is(".lg-outer")||$(i.target).is(".lg-item ")||$(i.target).is(".lg-img-wrap")&&e)&&(t.$outer.hasClass("lg-dragging")||t.destroy())})))},e.prototype.destroy=function(t){var e=this;t||(e.$el.trigger("onBeforeClose.lg"),$(window).scrollTop(e.prevScrollTop)),t&&(e.s.dynamic||this.$items.off("click.lg click.lgcustom"),$.removeData(e.el,"lightGallery")),this.$el.off(".lg.tm"),$.each($.fn.lightGallery.modules,(function(t){e.modules[t]&&e.modules[t].destroy()})),this.lGalleryOn=!1,clearTimeout(e.hideBarTimeout),this.hideBarTimeout=!1,$(window).off(".lg"),$("body").removeClass("lg-on lg-from-hash"),e.$outer&&e.$outer.removeClass("lg-visible"),$(".lg-backdrop").removeClass("in"),setTimeout((function(){e.$outer&&e.$outer.remove(),$(".lg-backdrop").remove(),t||e.$el.trigger("onCloseAfter.lg"),e.$el.focus()}),e.s.backdropDuration+50)},$.fn.lightGallery=function(t){return this.each((function(){if($.data(this,"lightGallery"))try{$(this).data("lightGallery").init()}catch(t){console.error("lightGallery has not initiated properly",t)}else $.data(this,"lightGallery",new e(this,t))}))},$.fn.lightGallery.modules={}}(),
/*! lg-autoplay - v1.2.1 - 2020-06-13
* http://sachinchoolur.github.io/lightGallery
* Copyright (c) 2020 Sachin N; Licensed GPLv3 */
function(t,e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){return e(t)})):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,(function(t){!function(){"use strict";var e={autoplay:!1,pause:5e3,progressBar:!0,fourceAutoplay:!1,autoplayControls:!0,appendAutoplayControlsTo:".lg-toolbar"},i=function(i){return this.core=t(i).data("lightGallery"),this.$el=t(i),!(this.core.$items.length<2)&&(this.core.s=t.extend({},e,this.core.s),this.interval=!1,this.fromAuto=!0,this.canceledOnTouch=!1,this.fourceAutoplayTemp=this.core.s.fourceAutoplay,this.core.doCss()||(this.core.s.progressBar=!1),this.init(),this)};i.prototype.init=function(){var t=this;t.core.s.autoplayControls&&t.controls(),t.core.s.progressBar&&t.core.$outer.find(".lg").append('<div class="lg-progress-bar"><div class="lg-progress"></div></div>'),t.progress(),t.core.s.autoplay&&t.$el.one("onSlideItemLoad.lg.tm",(function(){t.startlAuto()})),t.$el.on("onDragstart.lg.tm touchstart.lg.tm",(function(){t.interval&&(t.cancelAuto(),t.canceledOnTouch=!0)})),t.$el.on("onDragend.lg.tm touchend.lg.tm onSlideClick.lg.tm",(function(){!t.interval&&t.canceledOnTouch&&(t.startlAuto(),t.canceledOnTouch=!1)}))},i.prototype.progress=function(){var t,e,i=this;i.$el.on("onBeforeSlide.lg.tm",(function(){i.core.s.progressBar&&i.fromAuto&&(t=i.core.$outer.find(".lg-progress-bar"),e=i.core.$outer.find(".lg-progress"),i.interval&&(e.removeAttr("style"),t.removeClass("lg-start"),setTimeout((function(){e.css("transition","width "+(i.core.s.speed+i.core.s.pause)+"ms ease 0s"),t.addClass("lg-start")}),20))),i.fromAuto||i.core.s.fourceAutoplay||i.cancelAuto(),i.fromAuto=!1}))},i.prototype.controls=function(){var e=this;t(this.core.s.appendAutoplayControlsTo).append('<button type="button" aria-label="Toggle autoplay" class="lg-autoplay-button lg-icon"></button>'),e.core.$outer.find(".lg-autoplay-button").on("click.lg",(function(){t(e.core.$outer).hasClass("lg-show-autoplay")?(e.cancelAuto(),e.core.s.fourceAutoplay=!1):e.interval||(e.startlAuto(),e.core.s.fourceAutoplay=e.fourceAutoplayTemp)}))},i.prototype.startlAuto=function(){var t=this;t.core.$outer.find(".lg-progress").css("transition","width "+(t.core.s.speed+t.core.s.pause)+"ms ease 0s"),t.core.$outer.addClass("lg-show-autoplay"),t.core.$outer.find(".lg-progress-bar").addClass("lg-start"),t.interval=setInterval((function(){t.core.index+1<t.core.$items.length?t.core.index++:t.core.index=0,t.fromAuto=!0,t.core.slide(t.core.index,!1,!1,"next")}),t.core.s.speed+t.core.s.pause)},i.prototype.cancelAuto=function(){clearInterval(this.interval),this.interval=!1,this.core.$outer.find(".lg-progress").removeAttr("style"),this.core.$outer.removeClass("lg-show-autoplay"),this.core.$outer.find(".lg-progress-bar").removeClass("lg-start")},i.prototype.destroy=function(){this.cancelAuto(),this.core.$outer.find(".lg-progress-bar").remove()},t.fn.lightGallery.modules.autoplay=i}()})),
/*! lg-fullscreen - v1.2.1 - 2020-06-13
* http://sachinchoolur.github.io/lightGallery
* Copyright (c) 2020 Sachin N; Licensed GPLv3 */
function(t,e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){return e(t)})):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,(function(t){!function(){"use strict";var e={fullScreen:!0};function i(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}var s=function(i){return this.core=t(i).data("lightGallery"),this.$el=t(i),this.core.s=t.extend({},e,this.core.s),this.init(),this};s.prototype.init=function(){var t="";if(this.core.s.fullScreen){if(!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))return;t='<button type="button" aria-label="Toggle fullscreen" class="lg-fullscreen lg-icon"></button>',this.core.$outer.find(".lg-toolbar").append(t),this.fullScreen()}},s.prototype.requestFullscreen=function(){var t=document.documentElement;t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()},s.prototype.exitFullscreen=function(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()},s.prototype.fullScreen=function(){var e=this;t(document).on("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg",(function(){e.core.$outer.toggleClass("lg-fullscreen-on")})),this.core.$outer.find(".lg-fullscreen").on("click.lg",(function(){i()?e.exitFullscreen():e.requestFullscreen()}))},s.prototype.destroy=function(){i()&&this.exitFullscreen(),t(document).off("fullscreenchange.lg webkitfullscreenchange.lg mozfullscreenchange.lg MSFullscreenChange.lg")},t.fn.lightGallery.modules.fullscreen=s}()})),
/*! lg-hash - v1.0.4 - 2017-12-20
* http://sachinchoolur.github.io/lightGallery
* Copyright (c) 2017 Sachin N; Licensed GPLv3 */
function(t,e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){return e(t)})):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,(function(t){!function(){"use strict";var e={hash:!0},i=function(i){return this.core=t(i).data("lightGallery"),this.core.s=t.extend({},e,this.core.s),this.core.s.hash&&(this.oldHash=window.location.hash,this.init()),this};i.prototype.init=function(){var e,i=this;i.core.$el.on("onAfterSlide.lg.tm",(function(t,e,s){history.replaceState?history.replaceState(null,null,window.location.pathname+window.location.search+"#lg="+i.core.s.galleryId+"&slide="+s):window.location.hash="lg="+i.core.s.galleryId+"&slide="+s})),t(window).on("hashchange.lg.hash",(function(){e=window.location.hash;var t=parseInt(e.split("&slide=")[1],10);e.indexOf("lg="+i.core.s.galleryId)>-1?i.core.slide(t,!1,!1):i.core.lGalleryOn&&i.core.destroy()}))},i.prototype.destroy=function(){this.core.s.hash&&(this.oldHash&&this.oldHash.indexOf("lg="+this.core.s.galleryId)<0?history.replaceState?history.replaceState(null,null,this.oldHash):window.location.hash=this.oldHash:history.replaceState?history.replaceState(null,document.title,window.location.pathname+window.location.search):window.location.hash="",this.core.$el.off(".lg.hash"))},t.fn.lightGallery.modules.hash=i}()})),
/*! lg-pager - v1.0.2 - 2017-01-22
* http://sachinchoolur.github.io/lightGallery
* Copyright (c) 2017 Sachin N; Licensed GPLv3 */
function(t,e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){return e(t)})):"object"==typeof exports?module.exports=e(require("jquery")):e(jQuery)}(0,(function(t){!function(){"use strict";var e={pager:!1},i=function(i){return this.core=t(i).data("lightGallery"),this.$el=t(i),this.core.s=t.extend({},e,this.core.s),this.core.s.pager&&this.core.$items.length>1&&this.init(),this};i.prototype.init=function(){var e,i,s,o=this,r="";if(o.core.$outer.find(".lg").append('<div class="lg-pager-outer"></div>'),o.core.s.dynamic)for(var n=0;n<o.core.s.dynamicEl.length;n++)r+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+o.core.s.dynamicEl[n].thumb+'" /></div></span>';else o.core.$items.each((function(){o.core.s.exThumbImage?r+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+t(this).attr(o.core.s.exThumbImage)+'" /></div></span>':r+='<span class="lg-pager-cont"> <span class="lg-pager"></span><div class="lg-pager-thumb-cont"><span class="lg-caret"></span> <img src="'+t(this).find("img").attr("src")+'" /></div></span>'}));(i=o.core.$outer.find(".lg-pager-outer")).html(r),(e=o.core.$outer.find(".lg-pager-cont")).on("click.lg touchend.lg",(function(){var e=t(this);o.core.index=e.index(),o.core.slide(o.core.index,!1,!0,!1)})),i.on("mouseover.lg",(function(){clearTimeout(s),i.addClass("lg-pager-hover")})),i.on("mouseout.lg",(function(){s=setTimeout((function(){i.removeClass("lg-pager-hover")}))})),o.core.$el.on("onBeforeSlide.lg.tm",(function(t,i,s){e.removeClass("lg-pager-active"),e.eq(s).addClass("lg-pager-active")}))},i.prototype.destroy=function(){},t.fn.lightGallery.modules.pager=i}()})),
/*! lg-thumbnail - v1.2.1 - 2020-06-13
* http://sachinchoolur.github.io/lightGallery
* Copyright (c) 2020 Sachin N; Licensed GPLv3 */
function(t,e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){return e(t)})):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,(function(t){!function(){"use strict";var e={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbHeight:"80px",thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toogleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0},i=function(i){return this.core=t(i).data("lightGallery"),this.core.s=t.extend({},e,this.core.s),this.$el=t(i),this.$thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.$items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.core.s.animateThumb&&(this.core.s.thumbHeight="100%"),this.left=0,this.init(),this};i.prototype.init=function(){var t=this;this.core.s.thumbnail&&this.core.$items.length>1&&(this.core.s.showThumbByDefault&&setTimeout((function(){t.core.$outer.addClass("lg-thumb-open")}),700),this.core.s.pullCaptionUp&&this.core.$outer.addClass("lg-pull-caption-up"),this.build(),this.core.s.animateThumb&&this.core.doCss()?(this.core.s.enableThumbDrag&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toogle(),this.thumbkeyPress())},i.prototype.build=function(){var e,i=this,s="",o="";switch(this.core.s.vimeoThumbSize){case"thumbnail_large":o="640";break;case"thumbnail_medium":o="200x150";break;case"thumbnail_small":o="100x75"}function r(t,e,r){var n,a=i.core.isVideo(t,r)||{},l="";a.youtube||a.vimeo||a.dailymotion?a.youtube?n=i.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+a.youtube[1]+"/"+i.core.s.youtubeThumbSize+".jpg":e:a.vimeo?i.core.s.loadVimeoThumbnail?(n="//i.vimeocdn.com/video/error_"+o+".jpg",l=a.vimeo[1]):n=e:a.dailymotion&&(n=i.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+a.dailymotion[1]:e):n=e,s+='<div data-vimeo-id="'+l+'" class="lg-thumb-item" style="width:'+i.core.s.thumbWidth+"px; height: "+i.core.s.thumbHeight+"; margin-right: "+i.core.s.thumbMargin+'px"><img src="'+n+'" /></div>',l=""}if(i.core.$outer.addClass("lg-has-thumb"),i.core.$outer.find(".lg").append('<div class="lg-thumb-outer"><div class="lg-thumb lg-group"></div></div>'),i.$thumbOuter=i.core.$outer.find(".lg-thumb-outer"),i.thumbOuterWidth=i.$thumbOuter.width(),i.core.s.animateThumb&&i.core.$outer.find(".lg-thumb").css({width:i.thumbTotalWidth+"px",position:"relative"}),this.core.s.animateThumb&&i.$thumbOuter.css("height",i.core.s.thumbContHeight+"px"),i.core.s.dynamic)for(var n=0;n<i.core.s.dynamicEl.length;n++)r(i.core.s.dynamicEl[n].src,i.core.s.dynamicEl[n].thumb,n);else i.core.$items.each((function(e){i.core.s.exThumbImage?r(t(this).attr("href")||t(this).attr("data-src"),t(this).attr(i.core.s.exThumbImage),e):r(t(this).attr("href")||t(this).attr("data-src"),t(this).find("img").attr("src"),e)}));i.core.$outer.find(".lg-thumb").html(s),(e=i.core.$outer.find(".lg-thumb-item")).each((function(){var e=t(this),s=e.attr("data-vimeo-id");s&&t.getJSON("//www.vimeo.com/api/v2/video/"+s+".json?callback=?",{format:"json"},(function(t){e.find("img").attr("src",t[0][i.core.s.vimeoThumbSize])}))})),e.eq(i.core.index).addClass("active"),i.core.$el.on("onBeforeSlide.lg.tm",(function(){e.removeClass("active"),e.eq(i.core.index).addClass("active")})),e.on("click.lg touchend.lg",(function(){var e=t(this);setTimeout((function(){(i.thumbClickable&&!i.core.lgBusy||!i.core.doCss())&&(i.core.index=e.index(),i.core.slide(i.core.index,!1,!0,!1))}),50)})),i.core.$el.on("onBeforeSlide.lg.tm",(function(){i.animateThumb(i.core.index)})),t(window).on("resize.lg.thumb orientationchange.lg.thumb",(function(){setTimeout((function(){i.animateThumb(i.core.index),i.thumbOuterWidth=i.$thumbOuter.width()}),200)}))},i.prototype.setTranslate=function(t){this.core.$outer.find(".lg-thumb").css({transform:"translate3d(-"+t+"px, 0px, 0px)"})},i.prototype.animateThumb=function(t){var e=this.core.$outer.find(".lg-thumb");if(this.core.s.animateThumb){var i;switch(this.core.s.currentPagerPosition){case"left":i=0;break;case"middle":i=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":i=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*t-1-i,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn?(e.hasClass("on")||this.core.$outer.find(".lg-thumb").css("transition-duration",this.core.s.speed+"ms"),this.core.doCss()||e.animate({left:-this.left+"px"},this.core.s.speed)):this.core.doCss()||e.css("left",-this.left+"px"),this.setTranslate(this.left)}},i.prototype.enableThumbDrag=function(){var e=this,i=0,s=0,o=!1,r=!1,n=0;e.$thumbOuter.addClass("lg-grab"),e.core.$outer.find(".lg-thumb").on("mousedown.lg.thumb",(function(t){e.thumbTotalWidth>e.thumbOuterWidth&&(t.preventDefault(),i=t.pageX,o=!0,e.core.$outer.scrollLeft+=1,e.core.$outer.scrollLeft-=1,e.thumbClickable=!1,e.$thumbOuter.removeClass("lg-grab").addClass("lg-grabbing"))})),t(window).on("mousemove.lg.thumb",(function(t){o&&(n=e.left,r=!0,s=t.pageX,e.$thumbOuter.addClass("lg-dragging"),(n-=s-i)>e.thumbTotalWidth-e.thumbOuterWidth&&(n=e.thumbTotalWidth-e.thumbOuterWidth),n<0&&(n=0),e.setTranslate(n))})),t(window).on("mouseup.lg.thumb",(function(){r?(r=!1,e.$thumbOuter.removeClass("lg-dragging"),e.left=n,Math.abs(s-i)<e.core.s.swipeThreshold&&(e.thumbClickable=!0)):e.thumbClickable=!0,o&&(o=!1,e.$thumbOuter.removeClass("lg-grabbing").addClass("lg-grab"))}))},i.prototype.enableThumbSwipe=function(){var t=this,e=0,i=0,s=!1,o=0;t.core.$outer.find(".lg-thumb").on("touchstart.lg",(function(i){t.thumbTotalWidth>t.thumbOuterWidth&&(i.preventDefault(),e=i.originalEvent.targetTouches[0].pageX,t.thumbClickable=!1)})),t.core.$outer.find(".lg-thumb").on("touchmove.lg",(function(r){t.thumbTotalWidth>t.thumbOuterWidth&&(r.preventDefault(),i=r.originalEvent.targetTouches[0].pageX,s=!0,t.$thumbOuter.addClass("lg-dragging"),o=t.left,(o-=i-e)>t.thumbTotalWidth-t.thumbOuterWidth&&(o=t.thumbTotalWidth-t.thumbOuterWidth),o<0&&(o=0),t.setTranslate(o))})),t.core.$outer.find(".lg-thumb").on("touchend.lg",(function(){t.thumbTotalWidth>t.thumbOuterWidth&&s?(s=!1,t.$thumbOuter.removeClass("lg-dragging"),Math.abs(i-e)<t.core.s.swipeThreshold&&(t.thumbClickable=!0),t.left=o):t.thumbClickable=!0}))},i.prototype.toogle=function(){var t=this;t.core.s.toogleThumb&&(t.core.$outer.addClass("lg-can-toggle"),t.$thumbOuter.append('<button type="button" aria-label="Toggle thumbnails" class="lg-toogle-thumb lg-icon"></button>'),t.core.$outer.find(".lg-toogle-thumb").on("click.lg",(function(){t.core.$outer.toggleClass("lg-thumb-open")})))},i.prototype.thumbkeyPress=function(){var e=this;t(window).on("keydown.lg.thumb",(function(t){38===t.keyCode?(t.preventDefault(),e.core.$outer.addClass("lg-thumb-open")):40===t.keyCode&&(t.preventDefault(),e.core.$outer.removeClass("lg-thumb-open"))}))},i.prototype.destroy=function(){this.core.s.thumbnail&&this.core.$items.length>1&&(t(window).off("resize.lg.thumb orientationchange.lg.thumb keydown.lg.thumb"),this.$thumbOuter.remove(),this.core.$outer.removeClass("lg-has-thumb"))},t.fn.lightGallery.modules.Thumbnail=i}()})),
/*! lg-zoom - v1.3.0-beta.0 - October-05-2020
* http://sachinchoolur.github.io/lightGallery
* Copyright (c) 2020 Sachin N; Licensed GPLv3 */
function(t,e){"function"==typeof define&&define.amd?define(["jquery"],(function(t){return e(t)})):"object"==typeof module&&module.exports?module.exports=e(require("jquery")):e(t.jQuery)}(this,(function(t){!function(){"use strict";var e,i,s={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300,useLeftForZoom:(e=!1,i=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./),i&&parseInt(i[2],10)<54&&(e=!0),e)},o=function(e){return this.core=t(e).data("lightGallery"),this.core.s=t.extend({},s,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=t(window).width()/2,this.pageY=t(window).height()/2+t(window).scrollTop()),this};o.prototype.init=function(){var e=this,i='<button type="button" aria-label="Zoom in" id="lg-zoom-in" class="lg-icon"></button><button type="button" aria-label="Zoom out" id="lg-zoom-out" class="lg-icon"></button>';e.core.s.actualSize&&(i+='<button type="button" aria-label="Actual size" id="lg-actual-size" class="lg-icon"></button>'),e.core.s.useLeftForZoom?e.core.$outer.addClass("lg-use-left-for-zoom"):e.core.$outer.addClass("lg-use-transition-for-zoom"),this.core.$outer.find(".lg-toolbar").append(i),e.core.$el.on("onSlideItemLoad.lg.tm.zoom",(function(i,s,o){var r=e.core.s.enableZoomAfter+o;t("body").hasClass("lg-from-hash")&&o?r=0:t("body").removeClass("lg-from-hash"),e.zoomabletimeout=setTimeout((function(){e.core.$slide.eq(s).addClass("lg-zoomable")}),r+30)}));var s=1,o=function(i){var s=e.core.$outer.find(".lg-current .lg-image"),o=(t(window).width()-s.prop("offsetWidth"))/2,r=(t(window).height()-s.prop("offsetHeight"))/2+t(window).scrollTop(),n=(i-1)*(e.pageX-o),a=(i-1)*(e.pageY-r);s.css("transform","scale3d("+i+", "+i+", 1)").attr("data-scale",i),e.core.s.useLeftForZoom?s.parent().css({left:-n+"px",top:-a+"px"}).attr("data-x",n).attr("data-y",a):s.parent().css("transform","translate3d(-"+n+"px, -"+a+"px, 0)").attr("data-x",n).attr("data-y",a)},r=function(){s>1?e.core.$outer.addClass("lg-zoomed"):e.resetZoom(),s<1&&(s=1),o(s)},n=function(i,o,n,a){var l,h=o.prop("offsetWidth");l=e.core.s.dynamic?e.core.s.dynamicEl[n].width||o[0].naturalWidth||h:e.core.$items.eq(n).attr("data-width")||o[0].naturalWidth||h,e.core.$outer.hasClass("lg-zoomed")?s=1:l>h&&(s=l/h||2),a?(e.pageX=t(window).width()/2,e.pageY=t(window).height()/2+t(window).scrollTop()):(e.pageX=i.pageX||i.originalEvent.targetTouches[0].pageX,e.pageY=i.pageY||i.originalEvent.targetTouches[0].pageY),r(),setTimeout((function(){e.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")}),10)},a=!1;e.core.$el.on("onAferAppendSlide.lg.tm.zoom",(function(t,i){var s=e.core.$slide.eq(i).find(".lg-image");s.on("dblclick",(function(t){n(t,s,i)})),s.on("touchstart",(function(t){a?(clearTimeout(a),a=null,n(t,s,i)):a=setTimeout((function(){a=null}),300),t.preventDefault()}))})),t(window).on("resize.lg.zoom scroll.lg.zoom orientationchange.lg.zoom",(function(){e.pageX=t(window).width()/2,e.pageY=t(window).height()/2+t(window).scrollTop(),o(s)})),t("#lg-zoom-out").on("click.lg",(function(){e.core.$outer.find(".lg-current .lg-image").length&&(s-=e.core.s.scale,r())})),t("#lg-zoom-in").on("click.lg",(function(){e.core.$outer.find(".lg-current .lg-image").length&&(s+=e.core.s.scale,r())})),t("#lg-actual-size").on("click.lg",(function(t){n(t,e.core.$slide.eq(e.core.index).find(".lg-image"),e.core.index,!0)})),e.core.$el.on("onBeforeSlide.lg.tm",(function(){s=1,e.resetZoom()})),e.zoomDrag(),e.zoomSwipe()},o.prototype.getCurrentTransform=function(t){if(!t)return 0;var e=window.getComputedStyle(t,null),i=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("-moz-transform")||e.getPropertyValue("-ms-transform")||e.getPropertyValue("-o-transform")||e.getPropertyValue("transform")||"none";return"none"!==i?i.split("(")[1].split(")")[0].split(","):0},o.prototype.getCurrentRotation=function(t){if(!t)return 0;var e=this.getCurrentTransform(t);return e?Math.round(Math.atan2(e[1],e[0])*(180/Math.PI)):0},o.prototype.getModifier=function(t,e,i){var s=t;t=Math.abs(t);var o=this.getCurrentTransform(i);if(!o)return 1;var r=1;if("X"===e){var n=Math.sign(parseFloat(o[0]));0===t||180===t?r=1:90===t&&(r=-90===s&&1===n||90===s&&-1===n?-1:1),r*=n}else{var a=Math.sign(parseFloat(o[3]));if(0===t||180===t)r=1;else if(90===t){var l=parseFloat(o[1]),h=parseFloat(o[2]);r=Math.sign(l*h*s*a)}r*=a}return r},o.prototype.getImageSize=function(t,e,i){return 90===e&&(i="x"===i?"y":"x"),t.prop({y:"offsetHeight",x:"offsetWidth"}[i])},o.prototype.getDragCords=function(t,e){return 90===e?{x:t.pageY,y:t.pageX}:{x:t.pageX,y:t.pageY}},o.prototype.getSwipeCords=function(t,e){var i=t.originalEvent.targetTouches[0].pageX,s=t.originalEvent.targetTouches[0].pageY;return 90===e?{x:s,y:i}:{x:i,y:s}},o.prototype.getPossibleDragCords=function(t,e){var i=(this.core.$outer.find(".lg").height()-this.getImageSize(t,e,"y"))/2,s=Math.abs(this.getImageSize(t,e,"y")*Math.abs(t.attr("data-scale"))-this.core.$outer.find(".lg").height()+i),o=(this.core.$outer.find(".lg").width()-this.getImageSize(t,e,"x"))/2,r=Math.abs(this.getImageSize(t,e,"x")*Math.abs(t.attr("data-scale"))-this.core.$outer.find(".lg").width()+o);return 90===e?{minY:o,maxY:r,minX:i,maxX:s}:{minY:i,maxY:s,minX:o,maxX:r}},o.prototype.getDragAllowedAxises=function(t,e){var i=this.getImageSize(t,e,"y")*t.attr("data-scale")>this.core.$outer.find(".lg").height(),s=this.getImageSize(t,e,"x")*t.attr("data-scale")>this.core.$outer.find(".lg").width();return 90===e?{allowX:i,allowY:s}:{allowX:s,allowY:i}},o.prototype.resetZoom=function(){this.core.$outer.removeClass("lg-zoomed"),this.core.$slide.find(".lg-img-wrap").removeAttr("style data-x data-y"),this.core.$slide.find(".lg-image").removeAttr("style data-scale"),this.pageX=t(window).width()/2,this.pageY=t(window).height()/2+t(window).scrollTop()},o.prototype.zoomSwipe=function(){var t,e=this,i={},s={},o=!1,r=!1,n=!1,a=0;e.core.$slide.on("touchstart.lg",(function(s){if(e.core.$outer.hasClass("lg-zoomed")){var o=e.core.$slide.eq(e.core.index).find(".lg-object");t=e.core.$slide.eq(e.core.index).find(".lg-img-rotate")[0],a=e.getCurrentRotation(t);var l=e.getDragAllowedAxises(o,Math.abs(a));n=l.allowY,((r=l.allowX)||n)&&(s.preventDefault(),i=e.getSwipeCords(s,Math.abs(a)))}})),e.core.$slide.on("touchmove.lg",(function(l){if(e.core.$outer.hasClass("lg-zoomed")){var h,d,u=e.core.$slide.eq(e.core.index).find(".lg-img-wrap");l.preventDefault(),o=!0,s=e.getSwipeCords(l,Math.abs(a)),e.core.$outer.addClass("lg-zoom-dragging"),d=n?-Math.abs(u.attr("data-y"))+(s.y-i.y)*e.getModifier(a,"Y",t):-Math.abs(u.attr("data-y")),h=r?-Math.abs(u.attr("data-x"))+(s.x-i.x)*e.getModifier(a,"X",t):-Math.abs(u.attr("data-x")),(Math.abs(s.x-i.x)>15||Math.abs(s.y-i.y)>15)&&(e.core.s.useLeftForZoom?u.css({left:h+"px",top:d+"px"}):u.css("transform","translate3d("+h+"px, "+d+"px, 0)"))}})),e.core.$slide.on("touchend.lg",(function(){e.core.$outer.hasClass("lg-zoomed")&&o&&(o=!1,e.core.$outer.removeClass("lg-zoom-dragging"),e.touchendZoom(i,s,r,n,a))}))},o.prototype.zoomDrag=function(){var e,i=this,s={},o={},r=!1,n=!1,a=!1,l=!1,h=0;i.core.$slide.on("mousedown.lg.zoom",(function(o){e=i.core.$slide.eq(i.core.index).find(".lg-img-rotate")[0],h=i.getCurrentRotation(e);var n=i.core.$slide.eq(i.core.index).find(".lg-object"),d=i.getDragAllowedAxises(n,Math.abs(h));l=d.allowY,a=d.allowX,i.core.$outer.hasClass("lg-zoomed")&&t(o.target).hasClass("lg-object")&&(a||l)&&(o.preventDefault(),s=i.getDragCords(o,Math.abs(h)),r=!0,i.core.$outer.scrollLeft+=1,i.core.$outer.scrollLeft-=1,i.core.$outer.removeClass("lg-grab").addClass("lg-grabbing"))})),t(window).on("mousemove.lg.zoom",(function(t){if(r){var d,u,g=i.core.$slide.eq(i.core.index).find(".lg-img-wrap");n=!0,o=i.getDragCords(t,Math.abs(h)),i.core.$outer.addClass("lg-zoom-dragging"),u=l?-Math.abs(g.attr("data-y"))+(o.y-s.y)*i.getModifier(h,"Y",e):-Math.abs(g.attr("data-y")),d=a?-Math.abs(g.attr("data-x"))+(o.x-s.x)*i.getModifier(h,"X",e):-Math.abs(g.attr("data-x")),i.core.s.useLeftForZoom?g.css({left:d+"px",top:u+"px"}):g.css("transform","translate3d("+d+"px, "+u+"px, 0)")}})),t(window).on("mouseup.lg.zoom",(function(t){r&&(r=!1,i.core.$outer.removeClass("lg-zoom-dragging"),!n||s.x===o.x&&s.y===o.y||(o=i.getDragCords(t,Math.abs(h)),i.touchendZoom(s,o,a,l,h)),n=!1),i.core.$outer.removeClass("lg-grabbing").addClass("lg-grab")}))},o.prototype.touchendZoom=function(t,e,i,s,o){var r=this,n=r.core.$slide.eq(r.core.index).find(".lg-img-wrap"),a=r.core.$slide.eq(r.core.index).find(".lg-object"),l=r.core.$slide.eq(r.core.index).find(".lg-img-rotate")[0],h=-Math.abs(n.attr("data-x"))+(e.x-t.x)*r.getModifier(o,"X",l),d=-Math.abs(n.attr("data-y"))+(e.y-t.y)*r.getModifier(o,"Y",l),u=r.getPossibleDragCords(a,Math.abs(o));(Math.abs(e.x-t.x)>15||Math.abs(e.y-t.y)>15)&&(s&&(d<=-u.maxY?d=-u.maxY:d>=-u.minY&&(d=-u.minY)),i&&(h<=-u.maxX?h=-u.maxX:h>=-u.minX&&(h=-u.minX)),s?n.attr("data-y",Math.abs(d)):d=-Math.abs(n.attr("data-y")),i?n.attr("data-x",Math.abs(h)):h=-Math.abs(n.attr("data-x")),r.core.s.useLeftForZoom?n.css({left:h+"px",top:d+"px"}):n.css("transform","translate3d("+h+"px, "+d+"px, 0)"))},o.prototype.destroy=function(){var e=this;e.core.$el.off(".lg.zoom"),t(window).off(".lg.zoom"),e.core.$slide.off(".lg.zoom"),e.core.$el.off(".lg.tm.zoom"),e.resetZoom(),clearTimeout(e.zoomabletimeout),e.zoomabletimeout=!1},t.fn.lightGallery.modules.zoom=o}()}));